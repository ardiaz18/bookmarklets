// Agrega a marcadores
javascript:(function(){var metaInfo={};metaInfo.title=document.title||"No title found";metaInfo.description=document.querySelector('meta[name="description"]')?.content||"No description found";metaInfo.robots=document.querySelector('meta[name="robots"]')?.content||"No robots tag found";metaInfo.canonical=document.querySelector('link[rel="canonical"]')?.href||"No canonical URL found";var headers={h1:document.querySelectorAll('h1').length,h2:document.querySelectorAll('h2').length,h3:document.querySelectorAll('h3').length,};var links=document.querySelectorAll('a');var linkInfo={internal:0,external:0,nofollow:0};links.forEach(function(link){if(link.hostname===location.hostname){linkInfo.internal++}else{linkInfo.external++}
if(link.rel&&link.rel.includes('nofollow')){linkInfo.nofollow++}});var images=document.querySelectorAll('img');var imagesWithoutAlt=Array.from(images).filter(img=>!img.alt||img.alt.trim()==="");var hreflangs=document.querySelectorAll('link[rel="alternate"][hreflang]');var hreflangInfo=[];hreflangs.forEach(function(hreflang){hreflangInfo.push(`${hreflang.getAttribute('hreflang')}: ${hreflang.getAttribute('href')}`)});var modal=document.createElement('div');modal.style.position='fixed';modal.style.top='5%';modal.style.left='5%';modal.style.width='90%';modal.style.height='85%';modal.style.overflow='auto';modal.style.backgroundColor='white';modal.style.padding='20px';modal.style.boxShadow='0 0 10px rgba(0, 0, 0, 0.5)';modal.style.zIndex='10000';modal.style.fontFamily='Arial, sans-serif';var modalContent=`<h2>Informe de Auditoría SEO On-Page</h2>`;modalContent+=`<h3>Meta Information</h3>`;modalContent+=`<p><strong>Title:</strong> ${metaInfo.title}</p>`;modalContent+=`<p><strong>Description:</strong> ${metaInfo.description}</p>`;modalContent+=`<p><strong>Robots:</strong> ${metaInfo.robots}</p>`;modalContent+=`<p><strong>Canonical URL:</strong> ${metaInfo.canonical}</p>`;modalContent+=`<h3>Encabezados</h3>`;modalContent+=`<p><strong>H1:</strong> ${headers.h1}</p>`;modalContent+=`<p><strong>H2:</strong> ${headers.h2}</p>`;modalContent+=`<p><strong>H3:</strong> ${headers.h3}</p>`;modalContent+=`<h3>Enlaces</h3>`;modalContent+=`<p><strong>Enlaces internos:</strong> ${linkInfo.internal}</p>`;modalContent+=`<p><strong>Enlaces externos:</strong> ${linkInfo.external}</p>`;modalContent+=`<p><strong>Enlaces con Nofollow:</strong> ${linkInfo.nofollow}</p>`;modalContent+=`<h3>Imágenes sin atributo alt</h3>`;modalContent+=`<p>Imágenes encontradas sin atributo alt: ${imagesWithoutAlt.length}</p>`;modalContent+=`<h3>Hreflangs</h3>`;if(hreflangInfo.length>0){modalContent+=`<ul>`;hreflangInfo.forEach(function(hreflang){modalContent+=`<li>${hreflang}</li>`});modalContent+=`</ul>`}else{modalContent+=`<p>No se encontraron etiquetas hreflang.</p>`}
var apiKey='TU_API_KEY';var pageUrl=location.href;fetch(`https://www.googleapis.com/pagespeedonline/v5/runPagespeed?url=${pageUrl}&key=${apiKey}`).then(response=>response.json()).then(data=>{var speedScore=data.lighthouseResult.categories.performance.score*100;modalContent+=`<h3>Velocidad de Carga</h3>`;modalContent+=`<p><strong>Puntuación de PageSpeed Insights:</strong> ${speedScore}/100</p>`}).catch(error=>{modalContent+=`<h3>Velocidad de Carga</h3>`;modalContent+=`<p>No se pudo obtener la puntuación de velocidad de PageSpeed Insights.</p>`}).finally(()=>{modal.innerHTML=modalContent;var creditLine=document.createElement('p');creditLine.style.marginTop='20px';creditLine.style.fontSize='12px';creditLine.style.color='#555';creditLine.innerHTML=`Desarrollado por <a href="https://linkedin.com/in/aliciaruiz20/" target="_blank" style="color: #0073b1;">Alicia Ruiz</a> con la inestimable ayuda de ChatGPT`;modal.appendChild(creditLine);var closeButton=document.createElement('button');closeButton.innerText='Cerrar';closeButton.style.marginTop='20px';closeButton.style.padding='10px 20px';closeButton.style.backgroundColor='#0073b1';closeButton.style.color='white';closeButton.style.border='none';closeButton.style.cursor='pointer';closeButton.onclick=function(){document.body.removeChild(modal)};modal.appendChild(closeButton);document.body.appendChild(modal)})})()
